---

# 📈 Volumatic VIDYA Reversal Trading System for MultiCharts .NET

Современная торговая система на C# для платформы MultiCharts .NET. Включает в себя автоматизированную торговую стратегию и индикатор для визуального анализа, основанные на адаптивной скользящей средней (VIDYA) и каналах волатильности (ATR).

---

## 🎯 Особенности

*   **Адаптивный трендовый механизм:** Ядро системы использует Chande Momentum Oscillator (CMO) для динамической подстройки скорости скользящей средней VIDYA, что позволяет ей быстрее реагировать на волатильных рынках и быть более гладкой в спокойные периоды.
*   **Каналы волатильности:** Стратегия использует каналы, построенные на основе Average True Range (ATR), для определения точек смены тренда и генерации торговых сигналов.
*   **Продвинутая визуализация:** Индикатор не только отображает основную логику стратегии (линии тренда и каналы), но и строит уровни ликвидности на основе локальных ценовых экстремумов (пивотов).
*   **Гибкая настройка:** Широкий набор входных параметров позволяет тонко настроить каждый аспект алгоритма под конкретный финансовый инструмент и таймфрейм.

---

## 🚀 Начало работы и установка

Для использования этих компонентов вам необходима установленная платформа **MultiCharts .NET**.

1.  **Откройте `PowerLanguage Editor`** в MultiCharts.
2.  **Создайте новый Сигнал (Signal):**
    *   В редакторе выберите `File -> New -> Signal`.
    *   Дайте ему имя `Sig_Volumatic_VIDYA_Reversal`.
    *   Скопируйте весь код из файла `Sig_Volumatic_VIDYA_Reversal.cs` и вставьте его, заменяя весь шаблонный код.
3.  **Создайте новый Индикатор (Indicator):**
    *   В редакторе выберите `File -> New -> Indicator`.
    *   Дайте ему имя `Volumatic_VIDYA_Indicator`.
    *   Скопируйте весь код из файла `Volumatic_VIDYA_Indicator.cs` и вставьте его.
4.  **Скомпилируйте оба файла:** Нажмите кнопку `Compile` (или F7) для каждого из открытых файлов.
5.  **Примените на график:**
    *   Чтобы добавить индикатор, нажмите `Insert Indicator` на графике и выберите `Volumatic_VIDYA_Indicator`.
    *   Чтобы применить стратегию, нажмите `Insert Strategy` и выберите `Sig_Volumatic_VIDYA_Reversal`.

---

## 🔧 Конфигурация: Входные параметры (Inputs)

### ⚙️ Общие параметры (для Стратегии и Индикатора)

*   `Price_Source` **(Источник цены):** Определяет, какая цена бара будет использоваться для всех расчетов (`Close`, `Open`, `HL2` и т.д.).
    *   *Значение по умолчанию:* `Close`
*   `AtrPeriod` **(Период ATR):** Период для расчета Average True Range (ATR), который измеряет волатильность.
    *   *Значение по умолчанию:* `200`
*   `VidyaLength` **(Длина VIDYA):** Базовый период сглаживания для адаптивной скользящей средней VIDYA.
    *   *Значение по умолчанию:* `10`
*   `VidyaMomentum` **(Моментум VIDYA):** Период для Chande Momentum Oscillator (CMO), который адаптирует скорость VIDYA.
    *   *Значение по умолчанию:* `20`
*   `BandDistance` **(Множитель дистанции ATR):** Определяет ширину каналов волатильности вокруг основной линии.
    *   *Значение по умолчанию:* `2.0`
*   `SmoothingType` **(Тип сглаживающей MA):** Тип финальной сглаживающей скользящей средней (`EMA`, `HMA`, `JMA`, `KAMA`).
    *   *Значение по умолчанию:* `JMA`
*   `SmoothingLength` **(Длина сглаживающей MA):** Период для финальной сглаживающей скользящей средней.
    *   *Значение по умолчанию:* `15`
*   `JmaPhase` / `JmaPower`: Параметры для настройки сглаживания Jurik Moving Average (JMA), если она выбрана.
    *   *Значения по умолчанию:* `Phase = 50`, `Power = 2`

### 📈 Параметры только для Стратегии (`Sig_Volumatic_VIDYA_Reversal.cs`)

*   `TradeSize` **(Размер позиции):** Количество контрактов или акций для каждого входа в сделку.
    *   *Значение по умолчанию:* `1`

### 🎨 Параметры только для Индикатора (`Volumatic_VIDYA_Indicator.cs`)

*   `MaxSegments` **(Макс. кол-во отрезков линии):** Ограничивает количество сегментов основной трендовой линии для оптимизации производительности.
    *   *Значение по умолчанию:* `2000`
*   `PivotLeftBars` / `PivotRightBars` **(Интервал для пивота):** Определяют условия для формирования локального экстремума (пивота), который используется для построения линий ликвидности.
    *   *Значения по умолчанию:* `3` / `3`
*   `MaxLiquidityLines` **(Макс. кол-во линий ликвидности):** Ограничивает максимальное количество активных линий ликвидности для сохранения читаемости графика.
    *   *Значение по умолчанию:* `100`

---

## ⚠️ Отказ от ответственности

Данный проект предоставлен исключительно в образовательных и демонстрационных целях. Он не является финансовой рекомендацией. Любые торговые решения, принятые на основе этого кода, вы принимаете на свой страх и риск
